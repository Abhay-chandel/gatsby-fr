---
title: Créer des composants de présentation imbriqués
typora-copy-images-to: ./
disableTableOfContents: true
---

Bienvenue dans cette partie trois !

## Que contient ce tutoriel ?

Dans cette partie vous allez apprendre ce que sont les plugins de Gatsby et comment créer des composants de "présentation" imbriqués.

Les plugins de Gatsby sont des packages JavaScript qui vous aident à rajouter des fonctionnalités à votre site Gatsby. Gatsby a été conçu pour être extensible, ce qui signifie que les plugins sont capables d'étendre ou modifier absolument tout ce que Gatsby peut faire.

Les composants de présentation sont destinés à des parties de votre site que vous voulez partager dans plusieurs pages. Par exemple, les sites vont souvent avoir un composant de présentation avec un en-tête et un pied de page partagé. D'autres choses sont couramment intégrées à des éléments de présentation comme les barres latérales et/ou les menus de navigation. Sur cette page par exemple, l'en-tête fait partie du composant de présentation de gatsby.org.

Attaquons-nous à cette partie trois.

## Utiliser des plugins

Vous êtes très certainement familier avec cette idée de plugins. De nombreux logiciels supportent l'ajout de plugins personnalisés pour ajouter de nouvelles fonctionnalités ou même modifier le fonctionnement interne du logiciel. Les plugins de Gatsby fonctionnent de la même façon.

Des membres de la communauté (comme vous !) peuvent écrire des plugins (une petite quantité de code JavaScript) que d'autres peuvent alors utiliser lors de la création de sites Gatsby.

> Il y a déjà des centaines de plugins ! Explorez la [librairie de plugins](/plugins/).

Notre objectif est de rendre les plugins faciles à installer et à utiliser. Vous allez vraisemblablement utiliser des plugins dans chacun des sites Gatsby que vous allez créer. En travaillant sur le reste du tutoriel, vous aurez de nombreuses occasions de pratiquer l'installation et l'utilisation de plugins.

Pour une première introduction à l'utilisation des plugins nous allons installer et implémenter le plugin Typography.js de Gatsby.

[Typography.js](https://kyleamathews.github.io/typography.js/) est une librairie JavaScript qui génère un style global de base pour la typographie de votre site. La librairie a un [plugin Gqtsby correspondant](/packages/gatsby-plugin-typography/) pour faciliter son utilisation dans un site Gatsby.

### ✋ Create a new Gatsby site

As we mentioned in [part two](/tutorial/part-two/), at this point it's probably a good idea to close the terminal window(s) and project files from previous parts of the tutorial, to keep things clean on your desktop. Then open a new terminal window and run the following commands to create a new Gatsby site in a directory called `tutorial-part-three` and then move to this new directory:

```shell
gatsby new tutorial-part-three https://github.com/gatsbyjs/gatsby-starter-hello-world
cd tutorial-part-three
```

### ✋ Install and configure `gatsby-plugin-typography`

There are two main steps to using a plugin: Installing and configuring.

1. Install the `gatsby-plugin-typography` NPM package.

```shell
npm install --save gatsby-plugin-typography react-typography typography typography-theme-fairy-gates
```

> Note: Typography.js requires a few additional packages, so those are included in the instructions. Additional requirements like this will be listed in the "install" instructions of each plugin.

2. Edit the file `gatsby-config.js` at the root of your project to the following:

```javascript:title=gatsby-config.js
module.exports = {
  plugins: [
    {
      resolve: `gatsby-plugin-typography`,
      options: {
        pathToConfigModule: `src/utils/typography`,
      },
    },
  ],
}
```

The `gatsby-config.js` is another special file that Gatsby will automatically recognize. This is where you add plugins and other site configuration.

> Check out the [doc on gatsby-config.js](/docs/gatsby-config/) to read more, if you wish.

3. Typography.js needs a configuration file. Create a new directory called `utils` in the `src` directory. Then add a new file called `typography.js` to `utils` and copy the following into the file:

```javascript:title=src/utils/typography.js
import Typography from "typography"
import fairyGateTheme from "typography-theme-fairy-gates"

const typography = new Typography(fairyGateTheme)

export const { scale, rhythm, options } = typography
export default typography
```

4. Start the development server.

```shell
gatsby develop
```

Once you load the site, if you inspect the generated HTML using the Chrome developer tools, you’ll see that the typography plugin added a `<style>` element to the `<head>` element with its generated CSS:

![typography-styles](typography-styles.png)

### ✋ Make some content and style changes

Copy the following into your `src/pages/index.js` so you can see the
effect of the CSS generated by Typography.js better.

```jsx:title=src/pages/index.js
import React from "react"

export default () => (
  <div>
    <h1>Hi! I'm building a fake Gatsby site as part of a tutorial!</h1>
    <p>
      What do I like to do? Lots of course but definitely enjoy building
      websites.
    </p>
  </div>
)
```

Your site should now look like this:

![no-layout](no-layout.png)

Let's make a quick improvement. Many sites have a single column of text centered in the middle of the page. To create this, add the following styles to the
`<div>` in `src/pages/index.js`.

```jsx:title=src/pages/index.js
import React from "react"

export default () => (
  // highlight-next-line
  <div style={{ margin: `3rem auto`, maxWidth: 600 }}>
    <h1>Hi! I'm building a fake Gatsby site as part of a tutorial!</h1>
    <p>
      What do I like to do? Lots of course but definitely enjoy building
      websites.
    </p>
  </div>
)
```

![with-layout2](with-layout2.png)

Sweet. You've installed and configured your very first Gatsby plugin!

## Creating layout components

Now let's move on to learning about layout components. To get ready for this part, add a couple new pages to your project: an about page and a contact page.

```jsx:title=src/pages/about.js
import React from "react"

export default () => (
  <div>
    <h1>About me</h1>
    <p>I’m good enough, I’m smart enough, and gosh darn it, people like me!</p>
  </div>
)
```

```jsx:title=src/pages/contact.js
import React from "react"

export default () => (
  <div>
    <h1>I'd love to talk! Email me at the address below</h1>
    <p>
      <a href="mailto:me@example.com">me@example.com</a>
    </p>
  </div>
)
```

Let's see what the new about page looks like:

![about-uncentered](about-uncentered.png)

Hmm. It would be nice if the content of the two new pages were centered like the index page. And it would be nice to have some sort of global navigation so it's easy for visitors to find and visit each of the sub-pages.

You'll tackle these changes by creating your first layout component.

### ✋ Create your first layout component

1. Create a new directory at `src/components`.

2. Create a very basic layout component at `src/components/layout.js`:

```jsx:title=src/components/layout.js
import React from "react"

export default ({ children }) => (
  <div style={{ margin: `3rem auto`, maxWidth: 650, padding: `0 1rem` }}>
    {children}
  </div>
)
```

3. Import this new layout component into your `src/pages/index.js` page component:

```jsx:title=src/pages/index.js
import React from "react"
import Layout from "../components/layout" // highlight-line

export default () => (
  <Layout> {/* highlight-line */}
    <h1>Hi! I'm building a fake Gatsby site as part of a tutorial!</h1>
    <p>
      What do I like to do? Lots of course but definitely enjoy building
      websites.
    </p>
  </Layout> {/* highlight-line */}
)
```

![with-layout2](with-layout2.png)

Sweet, the layout is working! The content of your index page is still centered.

But try navigating to `/about/`, or `/contact/`. The content on those pages still won't be centered.

4. Import the layout component in `about.js` and `contact.js` (as you did for `index.js` in the previous step).

The content of all three of your pages is centered thanks to this single shared layout component!

### ✋ Add a site title

1. Add the following line to your new layout component:

```jsx:title=src/components/layout.js
import React from "react"

export default ({ children }) => (
  <div style={{ margin: `3rem auto`, maxWidth: 650, padding: `0 1rem` }}>
    <h3>MySweetSite</h3> {/* highlight-line */}
    {children}
  </div>
)
```

If you go to any of your three pages, you'll see the same title added, e.g. the `/about/` page:

![with-title](with-title.png)

### ✋ Add navigation links between pages

1. Copy the following into your layout component file:

```jsx:title=src/components/layout.js
import React from "react"
// highlight-start
import { Link } from "gatsby"

const ListLink = props => (
  <li style={{ display: `inline-block`, marginRight: `1rem` }}>
    <Link to={props.to}>{props.children}</Link>
  </li>
)
// highlight-end

export default ({ children }) => (
  <div style={{ margin: `3rem auto`, maxWidth: 650, padding: `0 1rem` }}>
    {/* highlight-start */}
    <header style={{ marginBottom: `1.5rem` }}>
      <Link to="/" style={{ textShadow: `none`, backgroundImage: `none` }}>
        <h3 style={{ display: `inline` }}>MySweetSite</h3>
      </Link>
      <ul style={{ listStyle: `none`, float: `right` }}>
        <ListLink to="/">Home</ListLink>
        <ListLink to="/about/">About</ListLink>
        <ListLink to="/contact/">Contact</ListLink>
      </ul>
    </header>
    {/* highlight-end */}
    {children}
  </div>
)
```

![with-navigation2](with-navigation2.png)

And there you have it! A three page site with basic global navigation.

_Challenge:_ With your new "layout component" powers, trying adding headers, footers, global navigation, sidebars, etc. to your Gatsby sites!

## What's coming next?

Continue on to [part four of the tutorial](/tutorial/part-four/) where you'll start learning about Gatsby's data layer and programmatically creating pages!
